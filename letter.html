<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Special Surprise For You ‚ú®</title>
    <style>
        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f8e1f4, #e0c3f7, #c2e6ff);
            background-size: 400% 400%;
            animation: gradientBackground 15s ease infinite;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 10;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeIn 3s forwards 0.5s;
        }

        /* Header Styles */
        header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }

        h1 {
            font-size: 2.8rem;
            color: #6a4c93;
            margin-bottom: 15px;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
        }

        /* Letter Section */
        .letter-container {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 0 20px rgba(106, 76, 147, 0.3);
            margin-bottom: 40px;
            position: relative;
            overflow: hidden;
        }

        .letter {
            font-size: 1.2rem;
            line-height: 1.6;
            color: #333;
            position: relative;
            z-index: 2;
            min-height: 200px;
            white-space: pre-line;
        }

        /* Final Surprise Button */
        .final-surprise-container {
            text-align: center;
            margin: 40px 0;
            position: relative;
        }

        .final-surprise-button {
            background: linear-gradient(45deg, #ff3366, #ff6ec4, #a485ff);
            background-size: 300% 300%;
            animation: gradientButton 5s ease infinite, pulse 2s infinite;
            color: white;
            font-size: 1.8rem;
            font-weight: bold;
            padding: 20px 50px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(255, 51, 102, 0.5);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            z-index: 2;
        }

        .final-surprise-button:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 40px rgba(255, 51, 102, 0.7);
        }

        /* Videos Container - Hidden Initially */
        .videos-container {
            display: none;
            opacity: 0;
            transform: translateY(50px);
            transition: all 1s ease;
            margin-top: 30px;
        }

        .videos-container.show {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        .videos-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .videos-header h2 {
            font-size: 2.5rem;
            color: #ff3366;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
            margin-bottom: 15px;
        }

        /* Videos Grid - SIMPLIFIED */
        .videos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .video-item {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .video-item:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }

        .video-title {
            color: #6a4c93;
            font-size: 1.3rem;
            margin-bottom: 15px;
            text-align: center;
            font-weight: 600;
        }

        .video-player {
            width: 100%;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 15px;
            position: relative;
        }

        .video-player video {
            width: 100%;
            display: block;
            border-radius: 10px;
        }

        .video-controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 15px;
        }

        .control-btn {
            padding: 8px 20px;
            background: #6a4c93;
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .control-btn:hover {
            background: #8858a3;
            transform: scale(1.05);
        }

        /* Video Navigation */
        .video-navigation {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .nav-btn {
            background: linear-gradient(45deg, #ff3366, #6a4c93);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 25px rgba(106, 76, 147, 0.6);
        }

        /* Back Button */
        .back-button {
            display: inline-block;
            margin-top: 30px;
            padding: 12px 25px;
            background: #6a4c93;
            color: white;
            border-radius: 30px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .back-button:hover {
            background: #8858a3;
            transform: translateY(-2px);
        }

        /* Animations */
        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes gradientButton {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .videos-grid {
                grid-template-columns: 1fr;
            }
            
            .final-surprise-button {
                font-size: 1.5rem;
                padding: 15px 30px;
            }
            
            .video-navigation {
                flex-direction: column;
                align-items: center;
            }
            
            .nav-btn {
                width: 80%;
                justify-content: center;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>For My Wiffy ‚ù§Ô∏è</h1>
        </header>

        <div class="letter-container">
            <div class="letter" id="typed-text"></div>
        </div>

        <!-- Final Surprise Button -->
        <div class="final-surprise-container">
            <button class="final-surprise-button" id="final-surprise-button">
                ‚ú® Click for Your Final Surprise! ‚ú®
            </button>
        </div>

        <!-- Videos Container - Hidden Initially -->
        <div class="videos-container" id="videos-container">
            <div class="videos-header">
                <h2>üé¨ My Special Birthday Edits For You! üé¨</h2>
                <p>Three heartfelt video edits I made with all our precious memories! ‚ù§Ô∏è</p>
            </div>
            
            <!-- Videos Grid - SIMPLIFIED -->
            <div class="videos-grid">
                <!-- Edit 1 -->
                <div class="video-item">
                    <div class="video-title">
                        <i class="fas fa-heart"></i> Birthday Edit 1 - Our Beautiful Journey
                    </div>
                    <div class="video-player">
                        <video id="video1" controls poster="" preload="metadata">
                            <!-- UPDATE THIS PATH -->
                            <source src="birthday edit1.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                    <div class="video-controls">
                        <button class="control-btn" onclick="playVideo(1)">
                            <i class="fas fa-play"></i> Play
                        </button>
                        <button class="control-btn" onclick="pauseVideo(1)">
                            <i class="fas fa-pause"></i> Pause
                        </button>
                    </div>
                </div>

                <!-- Edit 2 -->
                <div class="video-item">
                    <div class="video-title">
                        <i class="fas fa-star"></i> Birthday Edit 2 - Laughter & Adventures
                    </div>
                    <div class="video-player">
                        <video id="video2" controls poster="" preload="metadata">
                            <!-- UPDATE THIS PATH -->
                            <source src="birthday edit2.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                    <div class="video-controls">
                        <button class="control-btn" onclick="playVideo(2)">
                            <i class="fas fa-play"></i> Play
                        </button>
                        <button class="control-btn" onclick="pauseVideo(2)">
                            <i class="fas fa-pause"></i> Pause
                        </button>
                    </div>
                </div>

                <!-- Edit 3 -->
                <div class="video-item">
                    <div class="video-title">
                        <i class="fas fa-birthday-cake"></i> Birthday Edit 3 - Happy Birthday!
                    </div>
                    <div class="video-player">
                        <video id="video3" controls poster="" preload="metadata">
                            <!-- UPDATE THIS PATH -->
                            <source src="birthday edit3.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                    <div class="video-controls">
                        <button class="control-btn" onclick="playVideo(3)">
                            <i class="fas fa-play"></i> Play
                        </button>
                        <button class="control-btn" onclick="pauseVideo(3)">
                            <i class="fas fa-pause"></i> Pause
                        </button>
                    </div>
                </div>
            </div>

            <!-- Video Controls -->
            <div class="video-navigation">
                <button class="nav-btn" onclick="playAllVideos()">
                    <i class="fas fa-play-circle"></i> Play All Videos
                </button>
                <button class="nav-btn" onclick="pauseAllVideos()">
                    <i class="fas fa-pause-circle"></i> Pause All Videos
                </button>
                <button class="nav-btn" onclick="replayAllVideos()">
                    <i class="fas fa-redo"></i> Replay All Videos
                </button>
            </div>

            <div style="text-align: center; margin-top: 40px;">
                <p style="color: #6a4c93; font-size: 1.1rem; margin-bottom: 20px;">
                    ‚ù§Ô∏è Made with lots of love just for you! ‚ù§Ô∏è
                </p>
                <a href="cake.html" class="back-button">
                    <i class="fas fa-arrow-left"></i> Back to Birthday Cake
                </a>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.12/typed.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/canvas-confetti/1.5.1/confetti.browser.min.js"></script>

    <script>
        // Wait for page to load
        document.addEventListener('DOMContentLoaded', function() {
            console.log("Page loaded - checking video files...");
            
            // Typewriter effect
            const letterContent = `Dear wiffy,

As I sit here thinking about all our memories together, I can't help but smile. From our late-night talks to our spontaneous adventures, you've filled my life with so much joy and laughter.

On your special day, I've prepared something extra special for you. I spent so much time creating three beautiful video edits with all our precious moments together.

Click the magical button below to reveal my final surprise for you!

Happy Birthday to my favorite person in the world! Here's to many more years of love, laughter, and creating memories together.

With all my love,
Your Shubham`;
            
            new Typed('#typed-text', {
                strings: [letterContent],
                typeSpeed: 30,
                showCursor: true,
                cursorChar: '|',
                onComplete: function() {
                    console.log("Typing complete");
                }
            });

            // Get button and videos container
            const surpriseBtn = document.getElementById('final-surprise-button');
            const videosContainer = document.getElementById('videos-container');
            
            // Check if video elements exist
            const video1 = document.getElementById('video1');
            const video2 = document.getElementById('video2');
            const video3 = document.getElementById('video3');
            
            console.log("Video 1 element:", video1);
            console.log("Video 2 element:", video2);
            console.log("Video 3 element:", video3);
            
            // Test video sources
            if (video1) {
                console.log("Video 1 source:", video1.querySelector('source').src);
            }
            
            // Final Surprise Button Click
            surpriseBtn.addEventListener('click', function() {
                console.log("Surprise button clicked!");
                
                // Show videos container
                videosContainer.classList.add('show');
                
                // Hide button with animation
                this.style.opacity = '0';
                this.style.transform = 'scale(0)';
                setTimeout(() => {
                    this.style.display = 'none';
                }, 500);
                
                // Auto scroll to videos
                setTimeout(() => {
                    videosContainer.scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'start' 
                    });
                }, 600);
                
                // Show confetti
                confetti({
                    particleCount: 150,
                    spread: 100,
                    origin: { y: 0.6 }
                });
                
                // Check video files are accessible
                checkVideoFiles();
            });
            
            // Function to check if video files exist
            function checkVideoFiles() {
                const videoFiles = ['birthday edit1.mp4', 'birthday edit2.mp4', 'birthday edit3.mp4'];
                
                videoFiles.forEach((file, index) => {
                    const videoNumber = index + 1;
                    const videoElement = document.getElementById(`video${videoNumber}`);
                    
                    if (videoElement) {
                        // Test if video can load
                        videoElement.addEventListener('error', function() {
                            console.error(`Error loading video ${videoNumber}:`, file);
                            showVideoError(videoNumber);
                        });
                        
                        videoElement.addEventListener('loadeddata', function() {
                            console.log(`Video ${videoNumber} loaded successfully:`, file);
                        });
                    }
                });
            }
            
            // Show error message if video fails to load
            function showVideoError(videoNumber) {
                const videoItem = document.querySelector(`#video${videoNumber}`).closest('.video-item');
                const errorMsg = document.createElement('div');
                errorMsg.innerHTML = `
                    <div style="color: #ff3366; text-align: center; padding: 10px; background: #ffe6e6; border-radius: 5px; margin-top: 10px;">
                        <i class="fas fa-exclamation-triangle"></i>
                        Video file not found. Please check file name: "birthday edit${videoNumber}.mp4"
                    </div>
                `;
                videoItem.appendChild(errorMsg);
            }
            
            // Initial check
            checkVideoFiles();
        });

        // Video control functions
        function playVideo(videoNumber) {
            const video = document.getElementById(`video${videoNumber}`);
            if (video) {
                console.log(`Playing video ${videoNumber}`);
                video.play().catch(error => {
                    console.error(`Error playing video ${videoNumber}:`, error);
                    alert("Please click the play button in the video player controls");
                });
            }
        }

        function pauseVideo(videoNumber) {
            const video = document.getElementById(`video${videoNumber}`);
            if (video) {
                video.pause();
            }
        }

        function playAllVideos() {
            console.log("Playing all videos sequentially...");
            // Play videos with delay between them
            playVideo(1);
            setTimeout(() => playVideo(2), 2000);
            setTimeout(() => playVideo(3), 4000);
        }

        function pauseAllVideos() {
            pauseVideo(1);
            pauseVideo(2);
            pauseVideo(3);
        }

        function replayAllVideos() {
            // Reset all videos to start
            for (let i = 1; i <= 3; i++) {
                const video = document.getElementById(`video${i}`);
                if (video) {
                    video.pause();
                    video.currentTime = 0;
                }
            }
            // Play all after short delay
            setTimeout(playAllVideos, 500);
        }
        
        // Helper function to debug video loading
        function debugVideoLoading() {
            console.log("=== DEBUG VIDEO LOADING ===");
            for (let i = 1; i <= 3; i++) {
                const video = document.getElementById(`video${i}`);
                if (video) {
                    console.log(`Video ${i}:`, {
                        element: video,
                        source: video.querySelector('source')?.src,
                        readyState: video.readyState,
                        error: video.error
                    });
                }
            }
        }
        
        // Call debug function after page loads
        setTimeout(debugVideoLoading, 1000);
    </script>
</body>
</html>
